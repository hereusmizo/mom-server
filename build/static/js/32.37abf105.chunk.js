(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[32],{494:function(e,a,t){"use strict";t.r(a);var n=t(421),r=t(16),l=t.n(r),o=t(35),i=t(24),s=t(0),c=t.n(s),m=t(408),u=t(70),d=t(409),f=t(412),p=t(413),g=t(414),h=t(503),b=t(415),v=t(42),w=t(58),E=t(36);a.default=Object(v.b)((function(e){return{profile:e.profile}}),{fetchProfile:E.d})((function(e){var a=e.profile,t=e.fetchProfile,r=Object(s.useState)(!1),v=Object(i.a)(r,2),E=v[0],y=v[1],O=Object(s.useState)(!1),j=Object(i.a)(O,2),W=j[0],S=j[1],x=Object(s.useState)({name:"",phone:"",email:"",address:""}),C=Object(i.a)(x,2),z=C[0],k=C[1],P=Object(s.useState)({oldpassword:"",newpassword:"",confirm:""}),T=Object(i.a)(P,2),q=T[0],A=T[1];Object(s.useEffect)((function(){document.title="My Profile"}),[]);var I=function(){var e=Object(o.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!localStorage.getItem("mom-customer")){e.next=13;break}return e.prev=2,e.next=5,w.a.patch("/api/customer/self/".concat(a.id),z,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-customer")}});case 5:return t(),k({name:"",phone:"",email:"",address:""}),e.abrupt("return",y(!1));case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",alert("Something went wrong"));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),q.newpassword!==q.confirm){e.next=15;break}if(!localStorage.getItem("mom-customer")){e.next=13;break}return e.prev=3,e.next=6,w.a.patch("/api/customer/password/".concat(a.id),q,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-customer")}});case 6:return A({oldpassword:"",newpassword:"",confirm:""}),e.abrupt("return",S(!1));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",alert("Something went wrong"));case 13:e.next=16;break;case 15:return e.abrupt("return",alert("Confirm password must be same as new password went wrong"));case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a){return e.apply(this,arguments)}}();return Object.keys(a).length?c.a.createElement(m.a,{maxWidth:"xs",style:{marginBottom:380}},c.a.createElement(u.a,{variant:"h6"},"Account Settings"),c.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",border:"1px solid #eee",padding:20,marginTop:30,borderRadius:8}},c.a.createElement(d.a,{fullWidth:!0,style:{margin:5,borderRadius:20},color:"primary",variant:"outlined",onClick:function(){k(a),y(!0)}},"Edit Profile"),c.a.createElement(d.a,{fullWidth:!0,style:{margin:5,borderRadius:20},color:"primary",variant:"outlined",onClick:S},"Change Password"),c.a.createElement("div",{style:{flexGrow:1,marginTop:10}},c.a.createElement(u.a,{style:{fontWeight:300,fontSize:11}},"NAME"),c.a.createElement(u.a,{style:{fontWeight:600}},a.name),c.a.createElement(u.a,{style:{fontWeight:300,fontSize:11,marginTop:10}},"PHONE"),c.a.createElement(u.a,{style:{fontWeight:600}},a.phone),c.a.createElement(u.a,{style:{fontWeight:300,fontSize:11,marginTop:10}},"EMAIL"),c.a.createElement(u.a,{style:{fontWeight:600}},a.email),c.a.createElement(u.a,{style:{fontWeight:300,fontSize:11,marginTop:10}},"ADDRESS:"),c.a.createElement(u.a,{style:{fontWeight:600,marginBottom:10}},a.address))),c.a.createElement(f.a,{fullWidth:!0,maxWidth:"xs",open:E,onClose:function(){k({name:"",phone:"",email:"",address:""}),y(!1)}},c.a.createElement(p.a,null,"Edit My Profile"),c.a.createElement(g.a,null,c.a.createElement("form",{onSubmit:I},c.a.createElement(h.a,{autoFocus:!0,required:!0,label:"Name",margin:"dense",fullWidth:!0,variant:"outlined",size:"small",value:z.name,onChange:function(e){return k(Object(n.a)(Object(n.a)({},z),{},{name:e.target.value}))}}),c.a.createElement(h.a,{type:"phone",required:!0,margin:"dense",label:"Phone",fullWidth:!0,variant:"outlined",size:"small",value:z.phone,onChange:function(e){return k(Object(n.a)(Object(n.a)({},z),{},{phone:e.target.value}))}}),c.a.createElement(h.a,{type:"email",required:!0,margin:"dense",label:"Email",fullWidth:!0,variant:"outlined",size:"small",value:z.email,onChange:function(e){return k(Object(n.a)(Object(n.a)({},z),{},{email:e.target.value}))}}),c.a.createElement(h.a,{required:!0,margin:"dense",label:"Address",fullWidth:!0,variant:"outlined",size:"small",value:z.address,onChange:function(e){return k(Object(n.a)(Object(n.a)({},z),{},{address:e.target.value}))}}),c.a.createElement(d.a,{style:{marginTop:20},type:"submit",color:"primary",variant:"contained",size:"small",fullWidth:!0},"Save"),c.a.createElement(d.a,{onClick:function(){k({name:"",phone:"",email:"",address:""}),y(!1)},style:{marginTop:10,marginBottom:20},variant:"contained",size:"small",fullWidth:!0},"Cancel")))),c.a.createElement(f.a,{fullWidth:!0,maxWidth:"xs",open:W,onClose:function(){A({oldpassword:"",newpassword:"",confirm:""}),S(!1)}},c.a.createElement(p.a,null,"Change Password"),c.a.createElement(g.a,null,c.a.createElement("form",{onSubmit:B},c.a.createElement(h.a,{required:!0,margin:"dense",autoFocus:!0,label:"Old Password",fullWidth:!0,type:"password",variant:"outlined",size:"small",value:q.oldpassword,onChange:function(e){return A(Object(n.a)(Object(n.a)({},q),{},{oldpassword:e.target.value}))}}),c.a.createElement(h.a,{required:!0,margin:"dense",label:"New Password",fullWidth:!0,type:"password",variant:"outlined",size:"small",value:q.newpassword,onChange:function(e){return A(Object(n.a)(Object(n.a)({},q),{},{newpassword:e.target.value}))}}),c.a.createElement(h.a,{required:!0,margin:"dense",label:"Confirm Password",fullWidth:!0,type:"password",variant:"outlined",size:"small",value:q.confirm,onChange:function(e){return A(Object(n.a)(Object(n.a)({},q),{},{confirm:e.target.value}))}}),c.a.createElement(d.a,{style:{marginTop:20},type:"submit",color:"primary",variant:"contained",size:"small",fullWidth:!0},"Save"),c.a.createElement(d.a,{onClick:function(){A({oldpassword:"",newpassword:"",confirm:""}),S(!1)},style:{marginTop:10,marginBottom:20},variant:"contained",size:"small",fullWidth:!0},"Cancel"))))):c.a.createElement("div",{style:{marginTop:400,display:"flex",flexDirection:"column",alignItems:"center"}},c.a.createElement(b.a,null))}))}}]);
//# sourceMappingURL=32.37abf105.chunk.js.map
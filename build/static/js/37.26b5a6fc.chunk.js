(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[37],{524:function(e,t,a){"use strict";a.r(t);var n=a(423),r=a(37),l=a(16),c=a.n(l),i=a(35),u=a(24),o=a(0),s=a.n(o),m=a(439),d=a(440),b=a(441),f=a(442),p=a(443),g=a(70),v=a(414),h=a(415),E=a(416),O=a(548),j=a(411),w=a(410),y=a(403),k=a(406),C=a(428),q=a(429),S=a(42),x=a(17),A=a(436),Q=a(523),z=a(430),F=a(90),W=a(89),I=a(58),D=a(36);t.default=Object(S.b)(null,{logout:D.f})(Object(x.g)((function(e){var t=e.logout,a=e.history,l=Object(o.useState)({id:"",question:"",answer:"",code:""}),S=Object(u.a)(l,2),x=S[0],D=S[1],T=Object(o.useState)(!1),B=Object(u.a)(T,2),P=B[0],R=B[1],J=Object(o.useState)(!1),N=Object(u.a)(J,2),U=N[0],Y=N[1],H=Object(o.useState)(!1),L=Object(u.a)(H,2),M=L[0],G=L[1],K=Object(o.useState)(!1),V=Object(u.a)(K,2),X=V[0],Z=V[1],$=Object(o.useState)(null),_=Object(u.a)($,2),ee=_[0],te=_[1],ae=Object(o.useState)(null),ne=Object(u.a)(ae,2),re=ne[0],le=ne[1],ce=Object(o.useState)([]),ie=Object(u.a)(ce,2),ue=ie[0],oe=ie[1];Object(o.useEffect)((function(){document.title="FAQ",se()}),[]);var se=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("/api/faq");case 3:return t=e.sent,e.abrupt("return",oe(t.data.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(i.a)(c.a.mark((function e(a){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=24;break}return e.prev=2,R(!0),e.next=6,I.a.post("/api/faq",x,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return l=e.sent,oe([].concat(Object(r.a)(ue),[Object(n.a)(Object(n.a)({},x),{},{id:l.data.id})])),D({id:"",question:"",answer:"",code:""}),le(F.a[700]),te("FAQ Published Successfully"),R(!1),Y(!1),e.abrupt("return",Z(!0));case 16:return e.prev=16,e.t0=e.catch(2),R(!1),le(W.a[700]),te("Something went wrong"),e.abrupt("return",Z(!0));case 22:e.next=25;break;case 24:return e.abrupt("return",t());case 25:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=23;break}return e.prev=2,R(!0),e.next=6,I.a.patch("/api/faq/".concat(x.id),x,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return oe(ue.map((function(e){return e.id===x.id?x:e}))),D({id:"",question:"",answer:"",code:""}),G(!1),le(F.a[700]),te("FAQ Updated Successfully"),R(!1),e.abrupt("return",Z(!0));case 15:return e.prev=15,e.t0=e.catch(2),R(!1),le(W.a[700]),te("Something went wrong"),e.abrupt("return",Z(!0));case 21:e.next=24;break;case 23:return e.abrupt("return",t());case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=22;break}return e.prev=1,R(!0),e.next=5,I.a.delete("/api/faq/".concat(x.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 5:return oe(ue.filter((function(e){return e.id!==x.id}))),D({id:"",question:"",answer:"",code:""}),G(!1),le(F.a[700]),te("FAQ Deleted Successfully"),R(!1),e.abrupt("return",Z(!0));case 14:return e.prev=14,e.t0=e.catch(1),R(!1),le(W.a[700]),te("Something went wrong"),e.abrupt("return",Z(!0));case 20:e.next=23;break;case 22:return e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(w.a,null,s.a.createElement(g.a,{variant:"h6"},s.a.createElement(y.a,{edge:"start",onClick:function(){a.goBack()}},s.a.createElement(A.a,null)),"Frequently Ask Questions Management"),s.a.createElement("div",{style:{display:"block",marginTop:8}},s.a.createElement(j.a,{variant:"contained",color:"secondary",startIcon:s.a.createElement(Q.a,null),onClick:function(){return Y(!0)}},"Post New FAQ")),s.a.createElement(k.a,{style:{marginTop:20}}),ue.length?s.a.createElement(m.a,{size:"small"},s.a.createElement(d.a,null,s.a.createElement(b.a,null,s.a.createElement(f.a,null,"Code"),s.a.createElement(f.a,null,"Question"))),s.a.createElement(p.a,null,ue.map((function(e,t){return s.a.createElement(b.a,{hover:!0,key:t,style:{cursor:"pointer"},onClick:function(){D(Object(n.a)({},e)),G(!0)}},s.a.createElement(f.a,null,s.a.createElement(g.a,null,e.code)),s.a.createElement(f.a,null,s.a.createElement(g.a,null,e.question)))})))):s.a.createElement(g.a,{align:"center",variant:"h6",style:{marginTop:300}},"NO DATA TO DISPLAY!"),s.a.createElement(v.a,{fullWidth:!0,maxWidth:"xs",open:U,onClose:function(){D({id:"",question:"",answer:"",code:""}),Y(!1)}},s.a.createElement(h.a,null,"Publish FAQ"),s.a.createElement(E.a,{dividers:!0},s.a.createElement("form",{onSubmit:me},s.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",type:"number",size:"small",label:"Code (For sorting)",value:x.code,onChange:function(e){return D(Object(n.a)(Object(n.a)({},x),{},{code:e.target.value}))}}),s.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Question",value:x.question,onChange:function(e){return D(Object(n.a)(Object(n.a)({},x),{},{question:e.target.value}))}}),s.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Answer",multiline:!0,rows:5,value:x.answer,onChange:function(e){return D(Object(n.a)(Object(n.a)({},x),{},{answer:e.target.value}))}}),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},s.a.createElement(j.a,{disabled:P,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Submit"),s.a.createElement(j.a,{variant:"contained",onClick:function(){D({id:"",question:"",answer:"",code:""}),Y(!1)}},"Cancel"))))),s.a.createElement(v.a,{fullWidth:!0,maxWidth:"xs",open:M,onClose:function(){D({id:"",question:"",answer:"",code:""}),G(!1)}},s.a.createElement(h.a,null,"Edit FAQ"),s.a.createElement(E.a,{dividers:!0},s.a.createElement("form",{onSubmit:de},s.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",type:"number",size:"small",label:"Code (For sorting)",value:x.code,onChange:function(e){return D(Object(n.a)(Object(n.a)({},x),{},{code:e.target.value}))}}),s.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Question",value:x.question,onChange:function(e){return D(Object(n.a)(Object(n.a)({},x),{},{question:e.target.value}))}}),s.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Answer",multiline:!0,rows:5,value:x.answer,onChange:function(e){return D(Object(n.a)(Object(n.a)({},x),{},{answer:e.target.value}))}}),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},s.a.createElement(j.a,{disabled:P,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Update"),s.a.createElement(j.a,{disabled:P,style:{marginRight:10},color:"secondary",variant:"contained",onClick:function(){if(window.confirm("Are you sure you want to delete this FAQ? You cannot recover once deleted!"))return be()}},"Delete"),s.a.createElement(j.a,{variant:"contained",onClick:function(){D({id:"",question:"",answer:"",code:""}),G(!1)}},"Cancel"))))),s.a.createElement(C.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:X,autoHideDuration:3e3,onClose:function(){Z(!1)}},s.a.createElement(q.a,{style:{backgroundColor:re},message:ee,onClose:function(){Z(!1)},action:s.a.createElement(y.a,{key:"close",color:"inherit",onClick:function(){return Z(!1)}},s.a.createElement(z.a,null))})))})))}}]);
//# sourceMappingURL=37.26b5a6fc.chunk.js.map
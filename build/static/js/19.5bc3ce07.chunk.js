(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[19],{422:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(12);t.a=Object(l.a)(r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack")},432:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(12);t.a=Object(l.a)(r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},470:function(e,t,a){"use strict";a.r(t);var n=a(420),r=a(37),l=a(16),c=a.n(l),i=a(35),o=a(24),u=a(0),m=a.n(u),s=a(462),d=a(463),p=a(464),b=a(465),h=a(466),f=a(70),v=a(412),g=a(413),E=a(414),O=a(488),j=a(409),y=a(408),k=a(401),S=a(404),x=a(425),w=a(426),C=a(42),H=a(17),A=a(422),z=a(432),T=a(427),I=a(90),N=a(89),W=a(58),D=a(36);t.default=Object(C.b)(null,{logout:D.f})(Object(H.g)((function(e){var t=e.logout,a=e.history,l=Object(u.useState)({id:"",title:"",phone:""}),C=Object(o.a)(l,2),H=C[0],D=C[1],B=Object(u.useState)(!1),q=Object(o.a)(B,2),P=q[0],L=q[1],M=Object(u.useState)(!1),R=Object(o.a)(M,2),J=R[0],U=R[1],Y=Object(u.useState)(!1),V=Object(o.a)(Y,2),F=V[0],G=V[1],K=Object(u.useState)(!1),Q=Object(o.a)(K,2),X=Q[0],Z=Q[1],$=Object(u.useState)(null),_=Object(o.a)($,2),ee=_[0],te=_[1],ae=Object(u.useState)(null),ne=Object(o.a)(ae,2),re=ne[0],le=ne[1],ce=Object(u.useState)([]),ie=Object(o.a)(ce,2),oe=ie[0],ue=ie[1];Object(u.useEffect)((function(){document.title="Helpline",me()}),[]);var me=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/helpline");case 3:return t=e.sent,e.abrupt("return",ue(t.data.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(i.a)(c.a.mark((function e(a){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=23;break}return e.prev=2,L(!0),e.next=6,W.a.post("/api/helpline",H,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return l=e.sent,ue([].concat(Object(r.a)(oe),[Object(n.a)(Object(n.a)({},H),{},{id:l.data.id})])),D({id:"",title:"",phone:""}),le(I.a[700]),te("Helpline Added Successfully"),L(!1),e.abrupt("return",Z(!0));case 15:return e.prev=15,e.t0=e.catch(2),L(!1),le(N.a[700]),te("Something went wrong"),e.abrupt("return",Z(!0));case 21:e.next=24;break;case 23:return e.abrupt("return",t());case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=23;break}return e.prev=2,L(!0),e.next=6,W.a.patch("/api/helpline/".concat(H.id),H,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return ue(oe.map((function(e){return e.id===H.id?H:e}))),D({id:"",title:"",phone:""}),G(!1),le(I.a[700]),te("Helpline Updated Successfully"),L(!1),e.abrupt("return",Z(!0));case 15:return e.prev=15,e.t0=e.catch(2),L(!1),le(N.a[700]),te("Something went wrong"),e.abrupt("return",Z(!0));case 21:e.next=24;break;case 23:return e.abrupt("return",t());case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=22;break}return e.prev=1,L(!0),e.next=5,W.a.delete("/api/helpline/".concat(H.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 5:return ue(oe.filter((function(e){return e.id!==H.id}))),D({id:"",title:"",phone:""}),G(!1),le(I.a[700]),te("Helpline Deleted Successfully"),L(!1),e.abrupt("return",Z(!0));case 14:return e.prev=14,e.t0=e.catch(1),L(!1),le(N.a[700]),te("Something went wrong"),e.abrupt("return",Z(!0));case 20:e.next=23;break;case 22:return e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(y.a,null,m.a.createElement(f.a,{variant:"h6"},m.a.createElement(k.a,{edge:"start",onClick:function(){a.goBack()}},m.a.createElement(A.a,null)),"Helpline Management"),m.a.createElement("div",{style:{display:"block",marginTop:8}},m.a.createElement(j.a,{variant:"contained",color:"secondary",startIcon:m.a.createElement(z.a,null),onClick:function(){return U(!0)}},"Add New Helpline")),m.a.createElement(S.a,{style:{marginTop:20}}),oe.length?m.a.createElement(s.a,{size:"small"},m.a.createElement(d.a,null,m.a.createElement(p.a,null,m.a.createElement(b.a,{align:"center",padding:"checkbox"},"#"),m.a.createElement(b.a,null,"Title"),m.a.createElement(b.a,null,"Phone Number"))),m.a.createElement(h.a,null,oe.map((function(e,t){return m.a.createElement(p.a,{hover:!0,key:t,style:{cursor:"pointer"},onClick:function(){D(Object(n.a)({},e)),G(!0)}},m.a.createElement(b.a,null,m.a.createElement(f.a,{align:"center"},t+1)),m.a.createElement(b.a,null,m.a.createElement(f.a,null,e.title)),m.a.createElement(b.a,null,m.a.createElement(f.a,null,e.phone)))})))):m.a.createElement(f.a,{align:"center",variant:"h6",style:{marginTop:300}},"NO DATA TO DISPLAY!"),m.a.createElement(v.a,{fullWidth:!0,maxWidth:"xs",open:J,onClose:function(){D({id:"",title:"",phone:""}),U(!1)}},m.a.createElement(g.a,null,"Add New Helpline"),m.a.createElement(E.a,{dividers:!0},m.a.createElement("form",{onSubmit:se},m.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Helpline Title/Name",value:H.title,onChange:function(e){return D(Object(n.a)(Object(n.a)({},H),{},{title:e.target.value}))}}),m.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Phone Number",value:H.phone,onChange:function(e){return D(Object(n.a)(Object(n.a)({},H),{},{phone:e.target.value}))}}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(j.a,{disabled:P,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Submit"),m.a.createElement(j.a,{variant:"contained",onClick:function(){D({id:"",title:"",phone:""}),U(!1)}},"Cancel"))))),m.a.createElement(v.a,{fullWidth:!0,maxWidth:"xs",open:F,onClose:function(){D({id:"",title:"",phone:""}),G(!1)}},m.a.createElement(g.a,null,"Edit Helpline"),m.a.createElement(E.a,{dividers:!0},m.a.createElement("form",{onSubmit:de},m.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Helpline Title/Name",value:H.title,onChange:function(e){return D(Object(n.a)(Object(n.a)({},H),{},{title:e.target.value}))}}),m.a.createElement(O.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Phone Number",value:H.phone,onChange:function(e){return D(Object(n.a)(Object(n.a)({},H),{},{phone:e.target.value}))}}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(j.a,{disabled:P,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Update"),m.a.createElement(j.a,{disabled:P,style:{marginRight:10},color:"secondary",variant:"contained",onClick:function(){if(window.confirm("Are you sure you want to delete ".concat(H.title,"? You cannot recover once deleted!")))return pe()}},"Delete"),m.a.createElement(j.a,{variant:"contained",onClick:function(){D({id:"",title:"",phone:""}),G(!1)}},"Cancel"))))),m.a.createElement(x.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:X,autoHideDuration:3e3,onClose:function(){Z(!1)}},m.a.createElement(w.a,{style:{backgroundColor:re},message:ee,onClose:function(){Z(!1)},action:m.a.createElement(k.a,{key:"close",color:"inherit",onClick:function(){return Z(!1)}},m.a.createElement(T.a,null))})))})))}}]);
//# sourceMappingURL=19.5bc3ce07.chunk.js.map
(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[41],{526:function(e,t,a){"use strict";a.r(t);var n=a(423),r=a(16),i=a.n(r),l=a(35),c=a(24),o=a(0),u=a.n(o),m=a(439),s=a(440),d=a(441),f=a(442),p=a(443),b=a(70),g=a(414),v=a(415),h=a(416),y=a(548),E=a(411),O=a(410),j=a(403),S=a(406),k=a(428),x=a(429),C=a(42),w=a(17),z=a(436),W=a(523),A=a(430),D=a(90),I=a(89),T=a(58),N=a(36);t.default=Object(C.b)(null,{logout:N.f})(Object(w.g)((function(e){var t=e.logout,a=e.history,r=Object(o.useState)({id:"",name:"",priority:"",designation:""}),C=Object(c.a)(r,2),w=C[0],N=C[1],q=Object(o.useState)(!1),B=Object(c.a)(q,2),L=B[0],P=B[1],R=Object(o.useState)(!1),F=Object(c.a)(R,2),J=F[0],M=F[1],U=Object(o.useState)(!1),Y=Object(c.a)(U,2),H=Y[0],G=Y[1],K=Object(o.useState)(!1),Q=Object(c.a)(K,2),V=Q[0],X=Q[1],Z=Object(o.useState)(null),$=Object(c.a)(Z,2),_=$[0],ee=$[1],te=Object(o.useState)(null),ae=Object(c.a)(te,2),ne=ae[0],re=ae[1],ie=Object(o.useState)([]),le=Object(c.a)(ie,2),ce=le[0],oe=le[1];Object(o.useEffect)((function(){document.title="Staff List",ue()}),[]);var ue=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("/api/staff-list");case 3:return t=e.sent,e.abrupt("return",oe(t.data.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=24;break}return e.prev=2,P(!0),e.next=6,T.a.post("/api/staff-list",w,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return e.sent,ue(),N({id:"",name:"",priority:"",designation:""}),re(D.a[700]),ee("Added successfully"),P(!1),M(!1),e.abrupt("return",X(!0));case 16:return e.prev=16,e.t0=e.catch(2),P(!1),re(I.a[700]),ee("Something went wrong"),e.abrupt("return",X(!0));case 22:e.next=25;break;case 24:return e.abrupt("return",t());case 25:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=23;break}return e.prev=2,P(!0),e.next=6,T.a.patch("/api/staff-list/".concat(w.id),w,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return oe(ce.map((function(e){return e.id===w.id?w:e}))),N({id:"",name:"",priority:"",designation:""}),G(!1),re(D.a[700]),ee("Updated Successfully"),P(!1),e.abrupt("return",X(!0));case 15:return e.prev=15,e.t0=e.catch(2),P(!1),re(I.a[700]),ee("Something went wrong"),e.abrupt("return",X(!0));case 21:e.next=24;break;case 23:return e.abrupt("return",t());case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=22;break}return e.prev=1,P(!0),e.next=5,T.a.delete("/api/staff-list/".concat(w.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 5:return oe(ce.filter((function(e){return e.id!==w.id}))),N({id:"",name:"",priority:"",designation:""}),G(!1),re(D.a[700]),ee("Deleted Successfully"),P(!1),e.abrupt("return",X(!0));case 14:return e.prev=14,e.t0=e.catch(1),P(!1),re(I.a[700]),ee("Something went wrong"),e.abrupt("return",X(!0));case 20:e.next=23;break;case 22:return e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(O.a,null,u.a.createElement(b.a,{variant:"h6"},u.a.createElement(j.a,{edge:"start",onClick:function(){a.goBack()}},u.a.createElement(z.a,null)),"MOM Staff List (for Website)"),u.a.createElement("div",{style:{display:"block",marginTop:8}},u.a.createElement(E.a,{variant:"contained",color:"secondary",startIcon:u.a.createElement(W.a,null),onClick:function(){return M(!0)}},"Add New")),u.a.createElement(S.a,{style:{marginTop:20}}),ce.length?u.a.createElement(m.a,{size:"small"},u.a.createElement(s.a,null,u.a.createElement(d.a,null,u.a.createElement(f.a,{padding:"checkbox"},"#"),u.a.createElement(f.a,null,"Name"),u.a.createElement(f.a,null,"Designation"))),u.a.createElement(p.a,null,ce.map((function(e,t){return u.a.createElement(d.a,{hover:!0,key:t,style:{cursor:"pointer"},onClick:function(){N(Object(n.a)({},e)),G(!0)}},u.a.createElement(f.a,null,u.a.createElement(b.a,null,e.priority)),u.a.createElement(f.a,null,u.a.createElement(b.a,null,e.name)),u.a.createElement(f.a,null,u.a.createElement(b.a,null,e.designation)))})))):u.a.createElement(b.a,{align:"center",variant:"h6",style:{marginTop:300}},"NO DATA TO DISPLAY!"),u.a.createElement(g.a,{fullWidth:!0,maxWidth:"xs",open:J,onClose:function(){N({id:"",name:"",priority:"",designation:""}),M(!1)}},u.a.createElement(v.a,null,"Add Staff"),u.a.createElement(h.a,{dividers:!0},u.a.createElement("form",{onSubmit:me},u.a.createElement(y.a,{fullWidth:!0,type:"number",variant:"outlined",margin:"normal",size:"small",label:"Priority (For Sorting)",value:w.priority,onChange:function(e){return N(Object(n.a)(Object(n.a)({},w),{},{priority:e.target.value}))}}),u.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Name",value:w.name,onChange:function(e){return N(Object(n.a)(Object(n.a)({},w),{},{name:e.target.value}))}}),u.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Designation",value:w.designation,onChange:function(e){return N(Object(n.a)(Object(n.a)({},w),{},{designation:e.target.value}))}}),u.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},u.a.createElement(E.a,{disabled:L,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Submit"),u.a.createElement(E.a,{variant:"contained",onClick:function(){N({id:"",name:"",priority:"",designation:""}),M(!1)}},"Cancel"))))),u.a.createElement(g.a,{fullWidth:!0,maxWidth:"xs",open:H,onClose:function(){N({id:"",name:"",priority:"",designation:""}),G(!1)}},u.a.createElement(v.a,null,"Edit Staff"),u.a.createElement(h.a,{dividers:!0},u.a.createElement("form",{onSubmit:se},u.a.createElement(y.a,{fullWidth:!0,type:"number",variant:"outlined",margin:"normal",size:"small",label:"Priority (For Sorting)",value:w.priority,onChange:function(e){return N(Object(n.a)(Object(n.a)({},w),{},{priority:e.target.value}))}}),u.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Name",value:w.name,onChange:function(e){return N(Object(n.a)(Object(n.a)({},w),{},{name:e.target.value}))}}),u.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Designation",value:w.designation,onChange:function(e){return N(Object(n.a)(Object(n.a)({},w),{},{designation:e.target.value}))}}),u.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},u.a.createElement(E.a,{disabled:L,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Update"),u.a.createElement(E.a,{disabled:L,style:{marginRight:10},color:"secondary",variant:"contained",onClick:function(){if(window.confirm("Are you sure you want to delete? You cannot recover once deleted!"))return de()}},"Delete"),u.a.createElement(E.a,{variant:"contained",onClick:function(){N({id:"",name:"",priority:"",designation:""}),G(!1)}},"Cancel"))))),u.a.createElement(k.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:V,autoHideDuration:3e3,onClose:function(){X(!1)}},u.a.createElement(x.a,{style:{backgroundColor:ne},message:_,onClose:function(){X(!1)},action:u.a.createElement(j.a,{key:"close",color:"inherit",onClick:function(){return X(!1)}},u.a.createElement(A.a,null))})))})))}}]);
//# sourceMappingURL=41.cabe3d17.chunk.js.map
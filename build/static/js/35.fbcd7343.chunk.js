(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[35],{521:function(e,a,t){"use strict";t.r(a);var n=t(423),r=t(37),l=t(16),i=t.n(l),c=t(35),u=t(24),o=t(0),m=t.n(o),s=t(439),d=t(440),p=t(441),b=t(442),f=t(443),h=t(70),g=t(414),v=t(415),E=t(416),j=t(548),O=t(411),y=t(519),k=t(551),x=t(544),S=t(399),C=t(410),w=t(403),A=t(406),z=t(428),W=t(429),I=t(42),q=t(17),N=t(436),B=t(430),D=t(90),T=t(89),P=t(58),R=t(36);a.default=Object(I.b)(null,{logout:R.f})(Object(q.g)((function(e){var a=e.history,t=e.logout,l=Object(o.useState)({id:"",name:"",phone:"",email:"",status:""}),I=Object(u.a)(l,2),q=I[0],R=I[1],Y=Object(o.useState)(!1),J=Object(u.a)(Y,2),U=J[0],H=J[1],M=Object(o.useState)(!1),F=Object(u.a)(M,2),G=F[0],K=F[1],L=Object(o.useState)(!1),Q=Object(u.a)(L,2),V=Q[0],X=Q[1],Z=Object(o.useState)(!1),$=Object(u.a)(Z,2),_=$[0],ee=$[1],ae=Object(o.useState)(null),te=Object(u.a)(ae,2),ne=te[0],re=te[1],le=Object(o.useState)(null),ie=Object(u.a)(le,2),ce=ie[0],ue=ie[1],oe=Object(o.useState)([]),me=Object(u.a)(oe,2),se=me[0],de=me[1];Object(o.useEffect)((function(){pe(),document.title="Administrators"}),[]);var pe=function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=13;break}return e.prev=1,e.next=4,P.a.get("/api/admin",{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 4:return a=e.sent,e.abrupt("return",de(a.data.data));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return");case 11:e.next=14;break;case 13:return e.abrupt("return",t());case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(c.a)(i.a.mark((function e(a){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=23;break}return e.prev=2,H(!0),e.next=6,P.a.post("/api/admin",q,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return l=e.sent,de([].concat(Object(r.a)(se),[Object(n.a)(Object(n.a)({id:l.data.id},q),{},{status:1})])),R({id:"",name:"",phone:"",email:"",status:""}),ue(D.a[700]),re("Administrator Added Successfully"),H(!1),e.abrupt("return",ee(!0));case 15:return e.prev=15,e.t0=e.catch(2),H(!1),ue(T.a[700]),re("Something went wrong"),e.abrupt("return",ee(!0));case 21:e.next=24;break;case 23:return e.abrupt("return",t());case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=23;break}return e.prev=2,H(!0),e.next=6,P.a.patch("/api/admin/".concat(q.id),q,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return de(se.map((function(e){return e.id===q.id?q:e}))),R({id:"",name:"",phone:"",email:"",status:""}),X(!1),ue(D.a[700]),re("Administrator Updated Successfully"),H(!1),e.abrupt("return",ee(!0));case 15:return e.prev=15,e.t0=e.catch(2),H(!1),ue(T.a[700]),re("Something went wrong"),e.abrupt("return",ee(!0));case 21:e.next=24;break;case 23:return e.abrupt("return",t());case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(a){return e.apply(this,arguments)}}(),he=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=22;break}return e.prev=1,H(!0),e.next=5,P.a.delete("/api/admin/".concat(q.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 5:return de(se.filter((function(e){return e.id!==q.id}))),R({id:"",name:"",phone:"",email:"",status:""}),X(!1),ue(D.a[700]),re("Administrator Deleted Successfully"),H(!1),e.abrupt("return",ee(!0));case 14:return e.prev=14,e.t0=e.catch(1),H(!1),ue(T.a[700]),re("Something went wrong"),e.abrupt("return",ee(!0));case 20:e.next=23;break;case 22:return e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(C.a,null,m.a.createElement(h.a,{variant:"h6"},m.a.createElement(w.a,{edge:"start",onClick:function(){a.goBack()}},m.a.createElement(N.a,null)),"Administrators Management"),m.a.createElement(O.a,{variant:"contained",color:"secondary",style:{marginTop:10},size:"small",onClick:function(){return K(!0)}},"Add New"),m.a.createElement(A.a,{style:{marginTop:20}}),function(){if(se.length)return m.a.createElement(s.a,{size:"small"},m.a.createElement(d.a,null,m.a.createElement(p.a,null,m.a.createElement(b.a,{align:"center",padding:"checkbox"},"#"),m.a.createElement(b.a,null,"Name"),m.a.createElement(b.a,null,"Email"),m.a.createElement(b.a,null,"Phone"),m.a.createElement(b.a,{align:"center"},"Active"))),m.a.createElement(f.a,null,se.map((function(e,a){return m.a.createElement(p.a,{hover:!0,key:a,style:{cursor:"pointer"},onClick:function(){R(e),X(!0)}},m.a.createElement(b.a,null,m.a.createElement(h.a,{align:"center"},a+1)),m.a.createElement(b.a,null,m.a.createElement(h.a,null,e.name)),m.a.createElement(b.a,null,m.a.createElement(h.a,null,e.email)),m.a.createElement(b.a,null,m.a.createElement(h.a,null,e.phone)),m.a.createElement(b.a,null,m.a.createElement(h.a,{align:"center",style:{color:e.status?D.a[700]:T.a[700]}},e.status?"Yes":"No")))}))))}(),m.a.createElement(g.a,{fullWidth:!0,maxWidth:"xs",open:G,onClose:function(){R({id:"",name:"",phone:"",email:"",status:""}),K(!1)}},m.a.createElement(v.a,null,"Create New Administrator"),m.a.createElement(E.a,{dividers:!0},m.a.createElement("form",{onSubmit:be},m.a.createElement(j.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Administrator Name",value:q.name,onChange:function(e){return R(Object(n.a)(Object(n.a)({},q),{},{name:e.target.value}))}}),m.a.createElement(j.a,{required:!0,type:"email",fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Email",value:q.email,onChange:function(e){return R(Object(n.a)(Object(n.a)({},q),{},{email:e.target.value}))}}),m.a.createElement(j.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Phone",type:"number",value:q.phone,onChange:function(e){return R(Object(n.a)(Object(n.a)({},q),{},{phone:e.target.value}))}}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(O.a,{disabled:U,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Save"),m.a.createElement(O.a,{variant:"contained",onClick:function(){R({id:"",name:"",phone:"",email:"",status:""}),K(!1)}},"Cancel"))))),m.a.createElement(g.a,{fullWidth:!0,maxWidth:"xs",open:V,onClose:function(){R({id:"",name:"",phone:"",email:"",status:""}),X(!1)}},m.a.createElement(v.a,null,"Edit Administrator"),m.a.createElement(E.a,{dividers:!0},m.a.createElement("form",{onSubmit:fe},m.a.createElement(j.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Administrator Name",value:q.name,onChange:function(e){return R(Object(n.a)(Object(n.a)({},q),{},{name:e.target.value}))}}),m.a.createElement(j.a,{required:!0,type:"email",fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Email",value:q.email,onChange:function(e){return R(Object(n.a)(Object(n.a)({},q),{},{email:e.target.value}))}}),m.a.createElement(j.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Phone",type:"number",value:q.phone,onChange:function(e){return R(Object(n.a)(Object(n.a)({},q),{},{phone:e.target.value}))}}),m.a.createElement(y.a,{variant:"outlined",size:"small",margin:"normal",fullWidth:!0,required:!0},m.a.createElement(k.a,{id:"select-active"},"Active"),m.a.createElement(x.a,{label:"Active",labelId:"select-active",value:q.status,onChange:function(e){R(Object(n.a)(Object(n.a)({},q),{},{status:e.target.value}))}},m.a.createElement(S.a,{value:1},"Yes"),m.a.createElement(S.a,{value:0},"No"))),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(O.a,{disabled:U,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Update"),m.a.createElement(O.a,{disabled:U,style:{marginRight:10},color:"secondary",variant:"contained",onClick:function(){if(window.confirm("Are you sure you want to delete ".concat(q.name,"? You cannot recover once deleted!")))return he()}},"Delete"),m.a.createElement(O.a,{variant:"contained",onClick:function(){R({id:"",name:"",phone:"",email:"",status:""}),X(!1)}},"Cancel"))))),m.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:_,autoHideDuration:3e3,onClose:function(){ee(!1)}},m.a.createElement(W.a,{style:{backgroundColor:ce},message:ne,onClose:function(){ee(!1)},action:m.a.createElement(w.a,{key:"close",color:"inherit",onClick:function(){return ee(!1)}},m.a.createElement(B.a,null))})))})))}}]);
//# sourceMappingURL=35.fbcd7343.chunk.js.map
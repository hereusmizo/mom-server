{"version":3,"sources":["api/baseurl.js","../node_modules/@material-ui/icons/esm/AddAPhoto.js","pages/cms/News.js"],"names":["createSvgIcon","React","createElement","d","connect","logout","withRouter","props","history","useState","id","title","body","photo","created","formvalues","setformvalues","wait","setwait","createdialog","setcreatedialog","imageDialog","setImageDialog","editdialog","seteditdialog","toast","settoast","message","setmessage","status","setstatus","news","setNews","useEffect","document","fetchNews","a","api","get","response","data","submit","e","preventDefault","localStorage","getItem","formData","FormData","append","name","post","headers","Authorization","image","Date","green","red","submitEdit","patch","map","deletesubmit","delete","filter","variant","edge","onClick","goBack","style","display","marginTop","color","startIcon","length","size","index","hover","key","cursor","moment","format","align","fullWidth","maxWidth","open","onClose","dividers","onSubmit","required","margin","label","value","onChange","target","multiline","rows","accept","multiple","type","files","htmlFor","component","flexDirection","alignItems","alt","src","URL","createObjectURL","width","justifyContent","disabled","marginRight","window","confirm","scroll","borderRadius","border","padding","baseurl","opacity","hidden","position","top","left","transform","anchorOrigin","vertical","horizontal","autoHideDuration","backgroundColor","action"],"mappings":"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","file":"static/js/23.57b347eb.chunk.js","sourcesContent":["// export default \"http://localhost:5000/\";\r\nexport default \"https://missionorganicmizoram.com/\";\r\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z\"\n}), 'AddAPhoto');","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Button,\r\n  Divider,\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  TextField,\r\n  Snackbar,\r\n  SnackbarContent,\r\n} from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ArrowBack, Close, Add, AddAPhoto } from \"@material-ui/icons\";\r\nimport { red, green } from \"@material-ui/core/colors\";\r\nimport api from \"../../api/api\";\r\nimport baseurl from \"../../api/baseurl\";\r\nimport { logout } from \"../../actions\";\r\n\r\nconst News = (props) => {\r\n  const { logout, history } = props;\r\n  const [formvalues, setformvalues] = useState({\r\n    id: \"\",\r\n    title: \"\",\r\n    body: \"\",\r\n    photo: \"\",\r\n    created: \"\",\r\n  });\r\n\r\n  const [wait, setwait] = useState(false);\r\n  const [createdialog, setcreatedialog] = useState(false);\r\n  const [imageDialog, setImageDialog] = useState(false);\r\n  const [editdialog, seteditdialog] = useState(false);\r\n  const [toast, settoast] = useState(false);\r\n  const [message, setmessage] = useState(null);\r\n  const [status, setstatus] = useState(null);\r\n  const [news, setNews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    document.title = \"News\";\r\n    fetchNews();\r\n  }, []);\r\n\r\n  const fetchNews = async () => {\r\n    try {\r\n      const response = await api.get(`/api/news`);\r\n      return setNews(response.data.data);\r\n    } catch (err) {\r\n      return;\r\n    }\r\n  };\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    if (localStorage.getItem(\"mom-admin\")) {\r\n      try {\r\n        setwait(true);\r\n        const formData = new FormData();\r\n        formData.append(\"title\", formvalues.title);\r\n        formData.append(\"body\", formvalues.body);\r\n\r\n        if (formvalues.photo) {\r\n          formData.append(\"image\", formvalues.photo, formvalues.photo.name);\r\n        } else {\r\n          formData.append(\"image\", null);\r\n        }\r\n\r\n        const response = await api.post(`/api/news`, formData, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"mom-admin\"),\r\n          },\r\n        });\r\n\r\n        setNews([\r\n          ...news,\r\n          {\r\n            ...formvalues,\r\n            id: response.data.id,\r\n            photo: response.data.image,\r\n            created: new Date(),\r\n          },\r\n        ]);\r\n        setformvalues({\r\n          id: \"\",\r\n          title: \"\",\r\n          body: \"\",\r\n          photo: \"\",\r\n          created: \"\",\r\n        });\r\n        setstatus(green[700]);\r\n        setmessage(\"News Published Successfully\");\r\n        setwait(false);\r\n        setcreatedialog(false);\r\n        return settoast(true);\r\n      } catch (err) {\r\n        setwait(false);\r\n        setstatus(red[700]);\r\n        setmessage(\"Something went wrong\");\r\n        return settoast(true);\r\n      }\r\n    } else {\r\n      return logout();\r\n    }\r\n  };\r\n\r\n  const submitEdit = async (e) => {\r\n    e.preventDefault();\r\n    if (localStorage.getItem(\"mom-admin\")) {\r\n      try {\r\n        setwait(true);\r\n        await api.patch(`/api/news/${formvalues.id}`, formvalues, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"mom-admin\"),\r\n          },\r\n        });\r\n        setNews(news.map((a) => (a.id === formvalues.id ? formvalues : a)));\r\n        setformvalues({\r\n          id: \"\",\r\n          title: \"\",\r\n          body: \"\",\r\n          photo: \"\",\r\n          created: \"\",\r\n        });\r\n        seteditdialog(false);\r\n        setstatus(green[700]);\r\n        setmessage(\"News Updated Successfully\");\r\n        setwait(false);\r\n        return settoast(true);\r\n      } catch (err) {\r\n        setwait(false);\r\n        setstatus(red[700]);\r\n        setmessage(\"Something went wrong\");\r\n        return settoast(true);\r\n      }\r\n    } else {\r\n      return logout();\r\n    }\r\n  };\r\n\r\n  const deletesubmit = async () => {\r\n    if (localStorage.getItem(\"mom-admin\")) {\r\n      try {\r\n        setwait(true);\r\n        await api.delete(\r\n          `/api/news/${formvalues.id}`,\r\n\r\n          {\r\n            headers: {\r\n              Authorization: \"Bearer \" + localStorage.getItem(\"mom-admin\"),\r\n            },\r\n          }\r\n        );\r\n        setNews(news.filter((a) => a.id !== formvalues.id));\r\n        setformvalues({\r\n          id: \"\",\r\n          title: \"\",\r\n          body: \"\",\r\n          photo: \"\",\r\n          created: \"\",\r\n        });\r\n        seteditdialog(false);\r\n        setstatus(green[700]);\r\n        setmessage(\"News Deleted Successfully\");\r\n        setwait(false);\r\n        return settoast(true);\r\n      } catch (err) {\r\n        setwait(false);\r\n        setstatus(red[700]);\r\n        setmessage(\"Something went wrong\");\r\n        return settoast(true);\r\n      }\r\n    } else {\r\n      return logout();\r\n    }\r\n  };\r\n\r\n  const renderlist = () => {\r\n    if (news.length) {\r\n      return (\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Date</TableCell>\r\n              <TableCell>News Title</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {news.map((a, index) => {\r\n              return (\r\n                <TableRow\r\n                  hover\r\n                  key={index}\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => {\r\n                    setformvalues({ ...a });\r\n                    seteditdialog(true);\r\n                  }}\r\n                >\r\n                  <TableCell>\r\n                    <Typography>\r\n                      {moment(a.created).format(\"DD-MM-YYYY\")}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography>{a.title}</Typography>\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      );\r\n    } else {\r\n      return (\r\n        <Typography align=\"center\" variant=\"h6\" style={{ marginTop: 300 }}>\r\n          NO DATA TO DISPLAY!\r\n        </Typography>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderdialog = () => (\r\n    <Dialog\r\n      fullWidth\r\n      maxWidth=\"xs\"\r\n      open={createdialog}\r\n      onClose={() => {\r\n        setformvalues({\r\n          id: \"\",\r\n          title: \"\",\r\n          body: \"\",\r\n          photo: \"\",\r\n          created: \"\",\r\n        });\r\n        setcreatedialog(false);\r\n      }}\r\n    >\r\n      <DialogTitle>Publish News</DialogTitle>\r\n      <DialogContent dividers>\r\n        <form onSubmit={submit}>\r\n          <TextField\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            label=\"News Title\"\r\n            value={formvalues.title}\r\n            onChange={(e) =>\r\n              setformvalues({ ...formvalues, title: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            label=\"Body\"\r\n            multiline\r\n            rows={5}\r\n            value={formvalues.body}\r\n            onChange={(e) =>\r\n              setformvalues({ ...formvalues, body: e.target.value })\r\n            }\r\n          />\r\n          <input\r\n            accept=\"image/*\"\r\n            style={{ display: \"none\" }}\r\n            id=\"contained-button-file\"\r\n            multiple={false}\r\n            type=\"file\"\r\n            onChange={(e) => {\r\n              setformvalues({ ...formvalues, photo: e.target.files[0] });\r\n            }}\r\n          />\r\n          <label htmlFor=\"contained-button-file\">\r\n            <Button\r\n              color=\"secondary\"\r\n              component=\"span\"\r\n              style={{ marginTop: 10 }}\r\n              startIcon={<AddAPhoto />}\r\n            >\r\n              Choose Image\r\n            </Button>\r\n          </label>\r\n          {formvalues.photo && createdialog && (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <img\r\n                alt=\"Activity\"\r\n                src={URL.createObjectURL(formvalues.photo)}\r\n                style={{\r\n                  width: 300,\r\n                }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"flex-end\",\r\n              marginTop: 10,\r\n            }}\r\n          >\r\n            <Button\r\n              disabled={wait}\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ marginRight: 10 }}\r\n            >\r\n              Submit\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                setformvalues({\r\n                  id: \"\",\r\n                  title: \"\",\r\n                  body: \"\",\r\n                  photo: \"\",\r\n                  created: \"\",\r\n                });\r\n                setcreatedialog(false);\r\n              }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n\r\n  const rendereditdialog = () => (\r\n    <Dialog\r\n      fullWidth\r\n      maxWidth=\"xs\"\r\n      open={editdialog}\r\n      onClose={() => {\r\n        setformvalues({\r\n          id: \"\",\r\n          title: \"\",\r\n          body: \"\",\r\n          photo: \"\",\r\n          created: \"\",\r\n        });\r\n        seteditdialog(false);\r\n      }}\r\n    >\r\n      <DialogTitle>Edit News</DialogTitle>\r\n      <DialogContent dividers>\r\n        <form onSubmit={submitEdit}>\r\n          <TextField\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            label=\"News Title\"\r\n            value={formvalues.title}\r\n            onChange={(e) =>\r\n              setformvalues({ ...formvalues, title: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            label=\"Body\"\r\n            multiline\r\n            rows={5}\r\n            value={formvalues.body}\r\n            onChange={(e) =>\r\n              setformvalues({ ...formvalues, body: e.target.value })\r\n            }\r\n          />\r\n\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"flex-end\",\r\n              marginTop: 10,\r\n            }}\r\n          >\r\n            <Button\r\n              disabled={wait}\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ marginRight: 10 }}\r\n            >\r\n              Update\r\n            </Button>\r\n            <Button\r\n              disabled={wait}\r\n              style={{ marginRight: 10 }}\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                if (\r\n                  window.confirm(\r\n                    `Are you sure you want to delete news? You cannot recover once deleted!`\r\n                  )\r\n                ) {\r\n                  return deletesubmit();\r\n                }\r\n              }}\r\n            >\r\n              Delete\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 10 }}\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              onClick={() => setImageDialog(true)}\r\n            >\r\n              Image\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                setformvalues({\r\n                  id: \"\",\r\n                  title: \"\",\r\n                  body: \"\",\r\n                  photo: \"\",\r\n                  created: \"\",\r\n                });\r\n                seteditdialog(false);\r\n              }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n\r\n  const renderImageDialog = () => (\r\n    <Dialog\r\n      scroll=\"body\"\r\n      open={imageDialog}\r\n      onClose={() => {\r\n        setImageDialog(false);\r\n      }}\r\n    >\r\n      <DialogTitle>Change Image</DialogTitle>\r\n      <DialogContent dividers>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            // flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              borderRadius: 8,\r\n              border: \"1px solid #ddd\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              padding: 10,\r\n            }}\r\n          >\r\n            <input\r\n              accept=\"image/*\"\r\n              style={{ display: \"none\" }}\r\n              id=\"contained-button-file1\"\r\n              multiple={false}\r\n              type=\"file\"\r\n              onChange={async (e) => {\r\n                try {\r\n                  setwait(true);\r\n                  const formData = new FormData();\r\n                  formData.append(\r\n                    \"image\",\r\n                    e.target.files[0],\r\n                    e.target.files[0].name\r\n                  );\r\n                  const response = await api.patch(\r\n                    `/api/news/image/${formvalues.id}`,\r\n                    formData,\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"Bearer \" + localStorage.getItem(\"mom-admin\"),\r\n                      },\r\n                    }\r\n                  );\r\n\r\n                  setformvalues({\r\n                    ...formvalues,\r\n                    photo: response.data.image,\r\n                  });\r\n                  setNews(\r\n                    news.map((a) =>\r\n                      a.id === formvalues.id\r\n                        ? {\r\n                            ...formvalues,\r\n                            photo: response.data.image,\r\n                          }\r\n                        : a\r\n                    )\r\n                  );\r\n                  return setwait(false);\r\n                } catch {\r\n                  return setwait(false);\r\n                }\r\n              }}\r\n            />\r\n            <label htmlFor=\"contained-button-file1\">\r\n              <Button\r\n                color=\"secondary\"\r\n                component=\"span\"\r\n                startIcon={<AddAPhoto />}\r\n              >\r\n                Choose Image\r\n              </Button>\r\n            </label>\r\n            {formvalues.photo && imageDialog && (\r\n              <>\r\n                <img\r\n                  alt=\"Front\"\r\n                  src={`${baseurl}${formvalues.photo}`}\r\n                  style={{\r\n                    width: 400,\r\n                    opacity: wait ? 0.2 : 1,\r\n                  }}\r\n                />\r\n                <div\r\n                  hidden={!wait}\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: \"50%\",\r\n                    left: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                  }}\r\n                >\r\n                  Uploading...\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n            marginTop: 10,\r\n          }}\r\n        >\r\n          <Button\r\n            disabled={wait}\r\n            onClick={() => setImageDialog(false)}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            Close\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h6\">\r\n        <IconButton\r\n          edge=\"start\"\r\n          onClick={() => {\r\n            history.goBack();\r\n          }}\r\n        >\r\n          <ArrowBack />\r\n        </IconButton>\r\n        MOM News Management\r\n      </Typography>\r\n      <div style={{ display: \"block\", marginTop: 8 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          startIcon={<Add />}\r\n          onClick={() => setcreatedialog(true)}\r\n        >\r\n          Publish News\r\n        </Button>\r\n      </div>\r\n      <Divider style={{ marginTop: 20 }} />\r\n      {renderlist()}\r\n      {renderdialog()}\r\n      {rendereditdialog()}\r\n      {renderImageDialog()}\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"left\",\r\n        }}\r\n        open={toast}\r\n        autoHideDuration={3000}\r\n        onClose={() => {\r\n          settoast(false);\r\n        }}\r\n      >\r\n        <SnackbarContent\r\n          style={{ backgroundColor: status }}\r\n          message={message}\r\n          onClose={() => {\r\n            settoast(false);\r\n          }}\r\n          action={\r\n            <IconButton\r\n              key=\"close\"\r\n              color=\"inherit\"\r\n              onClick={() => settoast(false)}\r\n            >\r\n              <Close />\r\n            </IconButton>\r\n          }\r\n        ></SnackbarContent>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default connect(null, { logout })(withRouter(News));\r\n"],"sourceRoot":""}
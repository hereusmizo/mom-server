(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[12],{421:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(10);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},426:function(e,t,n){"use strict";var a=n(2),r=n(10),o=n(1),c=n(0),i=(n(5),n(3)),l=n(4),u=n(21),s=n(410),m=n(26),f=n(9),d=n(59),p=n(394),b=n(427),E=c.forwardRef((function(e,t){var n=e.action,r=e.anchorOrigin,l=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,E=r.horizontal,g=e.autoHideDuration,O=void 0===g?null:g,y=e.children,j=e.classes,h=e.className,v=e.ClickAwayListenerProps,x=e.ContentProps,w=e.disableWindowBlurListener,S=void 0!==w&&w,k=e.message,C=e.onClose,T=e.onEnter,M=e.onEntered,D=e.onEntering,z=e.onExit,L=e.onExited,A=e.onExiting,P=e.onMouseEnter,R=e.onMouseLeave,B=e.open,N=e.resumeHideDuration,Y=e.TransitionComponent,H=void 0===Y?p.a:Y,I=e.transitionDuration,W=void 0===I?{enter:u.b.enteringScreen,exit:u.b.leavingScreen}:I,q=e.TransitionProps,Q=Object(a.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),U=c.useRef(),G=c.useState(!0),V=G[0],J=G[1],F=Object(m.a)((function(){C&&C.apply(void 0,arguments)})),_=Object(m.a)((function(e){C&&null!=e&&(clearTimeout(U.current),U.current=setTimeout((function(){F(null,"timeout")}),e))}));c.useEffect((function(){return B&&_(O),function(){clearTimeout(U.current)}}),[B,O,_]);var X=function(){clearTimeout(U.current)},Z=c.useCallback((function(){null!=O&&_(null!=N?N:.5*O)}),[O,N,_]);return c.useEffect((function(){if(!S&&B)return window.addEventListener("focus",Z),window.addEventListener("blur",X),function(){window.removeEventListener("focus",Z),window.removeEventListener("blur",X)}}),[S,Z,B]),!B&&V?null:c.createElement(s.a,Object(o.a)({onClickAway:function(e){C&&C(e,"clickaway")}},v),c.createElement("div",Object(o.a)({className:Object(i.a)(j.root,j["anchorOrigin".concat(Object(f.a)(l)).concat(Object(f.a)(E))],h),onMouseEnter:function(e){P&&P(e),X()},onMouseLeave:function(e){R&&R(e),Z()},ref:t},Q),c.createElement(H,Object(o.a)({appear:!0,in:B,onEnter:Object(d.a)((function(){J(!1)}),T),onEntered:M,onEntering:D,onExit:z,onExited:Object(d.a)((function(){J(!0)}),L),onExiting:A,timeout:W,direction:"top"===l?"down":"up"},q),y||c.createElement(b.a,Object(o.a)({message:k,action:n},x)))))}));t.a=Object(l.a)((function(e){var t={top:8},n={bottom:8},a={justifyContent:"flex-end"},c={justifyContent:"flex-start"},i={top:24},l={bottom:24},u={right:24},s={left:24},m={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},t,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({},i,m))),anchorOriginBottomCenter:Object(o.a)({},n,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({},l,m))),anchorOriginTopRight:Object(o.a)({},t,a,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},i,u))),anchorOriginBottomRight:Object(o.a)({},n,a,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},l,u))),anchorOriginTopLeft:Object(o.a)({},t,c,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},i,s))),anchorOriginBottomLeft:Object(o.a)({},n,c,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},l,s)))}}),{flip:!1,name:"MuiSnackbar"})(E)},427:function(e,t,n){"use strict";var a=n(2),r=n(10),o=n(1),c=n(0),i=(n(5),n(3)),l=n(4),u=n(202),s=n(22),m=c.forwardRef((function(e,t){var n=e.action,r=e.classes,l=e.className,s=e.message,m=e.role,f=void 0===m?"alert":m,d=Object(a.a)(e,["action","classes","className","message","role"]);return c.createElement(u.a,Object(o.a)({role:f,square:!0,elevation:6,className:Object(i.a)(r.root,l),ref:t},d),c.createElement("div",{className:r.message},s),n?c.createElement("div",{className:r.action},n):null)}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(s.b)(e.palette.background.default,t);return{root:Object(o.a)({},e.typography.body2,Object(r.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(m)},428:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(12);t.a=Object(o.a)(r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},431:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(12);t.a=Object(o.a)(r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack")},488:function(e,t,n){"use strict";n.r(t);var a=n(421),r=n(16),o=n.n(r),c=n(35),i=n(24),l=n(0),u=n.n(l),s=n(349),m=n(348),f=n(383),d=n(70),p=n(412),b=n(413),E=n(401),g=n(414),O=n(408),y=n(404),j=n(426),h=n(427),v=n(42),x=n(429),w=n.n(x),S=n(17),k=n(12),C=Object(k.a)(u.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),T=n(428),M=n(431),D=n(90),z=n(89),L=n(58),A=n(36);t.default=Object(v.b)((function(e){return{query:e.query}}),(function(e){return{update:function(t){e({type:"UPDATE_QUERY",payload:t})},remove:function(t){e({type:"REMOVE_QUERY",payload:t})},logout:function(){return e(Object(A.f)())}}}))(Object(S.g)((function(e){var t=e.logout,n=e.update,r=e.history,v=e.remove,x=e.query,S=Object(l.useState)(!1),k=Object(i.a)(S,2),A=k[0],P=k[1],R=Object(l.useState)(!1),B=Object(i.a)(R,2),N=B[0],Y=B[1],H=Object(l.useState)(null),I=Object(i.a)(H,2),W=I[0],q=I[1],Q=Object(l.useState)(null),U=Object(i.a)(Q,2),G=U[0],V=U[1],J=Object(l.useState)(null),F=Object(i.a)(J,2),_=F[0],X=F[1];Object(l.useEffect)((function(){document.title="Query"}),[]);var Z=function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=19;break}return e.prev=1,e.next=4,L.a.delete("/api/query/".concat(_.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 4:return v(_.id),X([]),P(!1),V(D.a[700]),q("Query Deleted Successfully"),e.abrupt("return",Y(!0));case 12:return e.prev=12,e.t0=e.catch(1),V(z.a[700]),q("Something went wrong"),e.abrupt("return",Y(!0));case 17:e.next=20;break;case 19:return e.abrupt("return",t());case 20:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=12;break}return e.prev=1,e.next=4,L.a.patch("/api/query/".concat(r.id),{read:!0},{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 4:return e.abrupt("return",n(Object(a.a)(Object(a.a)({},r),{},{read:!0})));case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return");case 10:e.next=13;break;case 12:return e.abrupt("return",t());case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(O.a,null,u.a.createElement(d.a,{variant:"h6"},u.a.createElement(E.a,{edge:"start",onClick:function(){r.goBack()}},u.a.createElement(M.a,null)),"Query (Zawhna)"),u.a.createElement(y.a,{style:{marginTop:20}}),x.length?u.a.createElement(s.a,null,x.map((function(e,t){return u.a.createElement(m.a,{key:t,button:!0,style:{borderBottom:"1px solid #ddd",backgroundColor:e.read?"#fff":"#eff2f1"},onClick:function(){X(e),e.read||K(e),P(!0)}},u.a.createElement(f.a,{primary:u.a.createElement(d.a,{style:{fontWeight:600}},e.name),secondary:u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{color:"textSecondary",style:{marginTop:2,marginBottom:5,fontSize:12}},w()(e.created).format("MMMM Do YYYY, h:mm A")),u.a.createElement(d.a,{color:"textPrimary",style:{whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%",overflow:"hidden"}},e.subject?u.a.createElement("b",null,e.subject,": "):null,e.message))}))}))):u.a.createElement(d.a,{align:"center",variant:"h6",style:{marginTop:300}},"NO DATA TO DISPLAY!"),function(){if(_)return u.a.createElement(p.a,{scroll:"body",open:A,onClose:function(){X(null),P(!1)}},u.a.createElement(b.a,null,u.a.createElement("div",{style:{display:"flex"}},"Query",u.a.createElement("div",{style:{display:"flex",flexGrow:1,justifyContent:"flex-end"}},u.a.createElement(E.a,{edge:"end",size:"small",onClick:function(){if(window.confirm("Are you sure you want to delete this query? You cannot recover once deleted!"))return Z()}},u.a.createElement(C,{color:"primary"})),u.a.createElement(E.a,{edge:"end",size:"small",onClick:function(){X(null),P(!1)}},u.a.createElement(T.a,{color:"primary"}))))),u.a.createElement(g.a,{dividers:!0},u.a.createElement(d.a,{color:"textSecondary",style:{fontSize:10,marginTop:8}},"NAME"),u.a.createElement(d.a,{style:{fontWeight:"bold"}},_.name),u.a.createElement(d.a,{color:"textSecondary",style:{fontSize:10,marginTop:8}},"PHONE NUMBER"),u.a.createElement(d.a,{style:{fontWeight:"bold"}},_.phone),u.a.createElement(d.a,{color:"textSecondary",style:{fontSize:10,marginTop:8}},"EMAIL ADDRESS"),u.a.createElement(d.a,{style:{fontWeight:"bold"}},_.email),u.a.createElement(d.a,{color:"textSecondary",style:{fontSize:10,marginTop:8}},"ADDRESS"),u.a.createElement(d.a,{style:{fontWeight:"bold"}},_.address),u.a.createElement(d.a,{color:"textSecondary",style:{fontSize:10,marginTop:8}},"DATE"),u.a.createElement(d.a,{color:"textSecondary"},w()(_.created).format("MMMM Do YYYY, h:mm A")),_.subject&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{color:"textSecondary",style:{fontSize:10,marginTop:8}},"SUBJECT"),u.a.createElement(d.a,{style:{fontWeight:"bold"}},_.subject)),u.a.createElement(d.a,{color:"textSecondary",style:{fontSize:10,marginTop:8}},"MESSAGE"),u.a.createElement(d.a,{style:{whiteSpace:"pre-line"}},_.message)))}(),u.a.createElement(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:N,autoHideDuration:3e3,onClose:function(){Y(!1)}},u.a.createElement(h.a,{style:{backgroundColor:G},message:W,onClose:function(){Y(!1)},action:u.a.createElement(E.a,{key:"close",color:"inherit",onClick:function(){return Y(!1)}},u.a.createElement(T.a,null))})))})))}}]);
//# sourceMappingURL=12.f2cca032.chunk.js.map
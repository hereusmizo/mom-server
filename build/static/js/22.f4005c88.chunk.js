(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[22],{424:function(e,t,a){"use strict";t.a="https://missionorganicmizoram.com/"},450:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(12);t.a=Object(c.a)(r.a.createElement("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto")},480:function(e,t,a){"use strict";a.r(t);var n=a(422),r=a(37),c=a(16),i=a.n(c),l=a(35),o=a(24),u=a(0),m=a.n(u),s=a(435),d=a(436),p=a(437),g=a(438),f=a(439),b=a(70),h=a(413),v=a(414),E=a(415),y=a(505),j=a(410),O=a(409),k=a(402),x=a(405),C=a(427),w=a(428),S=a(42),I=a(17),z=a(450),A=a(432),D=a(481),B=a(429),P=a(90),T=a(89),W=a(58),R=a(424),F=a(36);t.default=Object(S.b)(null,{logout:F.f})(Object(I.g)((function(e){var t=e.logout,a=e.history,c=Object(u.useState)({id:"",name:"",description:"",image:""}),S=Object(o.a)(c,2),I=S[0],F=S[1],H=Object(u.useState)(!1),V=Object(o.a)(H,2),N=V[0],U=V[1],q=Object(u.useState)(!1),L=Object(o.a)(q,2),J=L[0],M=L[1],X=Object(u.useState)(!1),Y=Object(o.a)(X,2),G=Y[0],K=Y[1],Q=Object(u.useState)(!1),Z=Object(o.a)(Q,2),$=Z[0],_=Z[1],ee=Object(u.useState)(!1),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(u.useState)(null),ce=Object(o.a)(re,2),ie=ce[0],le=ce[1],oe=Object(u.useState)(null),ue=Object(o.a)(oe,2),me=ue[0],se=ue[1],de=Object(u.useState)([]),pe=Object(o.a)(de,2),ge=pe[0],fe=pe[1];Object(u.useEffect)((function(){document.title="Bulk Product",be()}),[]);var be=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/bulk");case 3:return t=e.sent,e.abrupt("return",fe(t.data.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(i.a.mark((function e(a){var c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=28;break}return e.prev=2,U(!0),(c=new FormData).append("name",I.name),c.append("description",I.description),I.image?c.append("image",I.image,I.image.name):c.append("image",null),e.next=10,W.a.post("/api/bulk",c,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 10:return l=e.sent,fe([].concat(Object(r.a)(ge),[Object(n.a)(Object(n.a)({},I),{},{id:l.data.id,image:l.data.image})])),F({id:"",name:"",description:"",image:""}),se(P.a[700]),le("Bulk Product Added Successfully"),U(!1),M(!1),e.abrupt("return",ne(!0));case 20:return e.prev=20,e.t0=e.catch(2),U(!1),se(T.a[700]),le("Something went wrong"),e.abrupt("return",ne(!0));case 26:e.next=29;break;case 28:return e.abrupt("return",t());case 29:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=23;break}return e.prev=2,U(!0),e.next=6,W.a.patch("/api/bulk/".concat(I.id),I,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return fe(ge.map((function(e){return e.id===I.id?I:e}))),F({id:"",name:"",description:"",image:""}),_(!1),se(P.a[700]),le("Bulk Product Updated Successfully"),U(!1),e.abrupt("return",ne(!0));case 15:return e.prev=15,e.t0=e.catch(2),U(!1),se(T.a[700]),le("Something went wrong"),e.abrupt("return",ne(!0));case 21:e.next=24;break;case 23:return e.abrupt("return",t());case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=22;break}return e.prev=1,U(!0),e.next=5,W.a.delete("/api/bulk/".concat(I.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 5:return fe(ge.filter((function(e){return e.id!==I.id}))),F({id:"",name:"",description:"",image:""}),_(!1),se(P.a[700]),le("Bulk Product Deleted Successfully"),U(!1),e.abrupt("return",ne(!0));case 14:return e.prev=14,e.t0=e.catch(1),U(!1),se(T.a[700]),le("Something went wrong"),e.abrupt("return",ne(!0));case 20:e.next=23;break;case 22:return e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(O.a,null,m.a.createElement(b.a,{variant:"h6"},m.a.createElement(k.a,{edge:"start",onClick:function(){a.goBack()}},m.a.createElement(A.a,null)),"Bulk Product Management"),m.a.createElement("div",{style:{display:"block",marginTop:8}},m.a.createElement(j.a,{variant:"contained",color:"secondary",startIcon:m.a.createElement(D.a,null),onClick:function(){return M(!0)}},"Add Product")),m.a.createElement(x.a,{style:{marginTop:20}}),ge.length?m.a.createElement(s.a,{size:"small"},m.a.createElement(d.a,null,m.a.createElement(p.a,null,m.a.createElement(g.a,{align:"center",padding:"checkbox"},"#"),m.a.createElement(g.a,null,"Name"))),m.a.createElement(f.a,null,ge.map((function(e,t){return m.a.createElement(p.a,{hover:!0,key:t,style:{cursor:"pointer"},onClick:function(){F(Object(n.a)({},e)),_(!0)}},m.a.createElement(g.a,null,m.a.createElement(b.a,{align:"center"},t+1)),m.a.createElement(g.a,null,m.a.createElement(b.a,null,e.name)))})))):m.a.createElement(b.a,{align:"center",variant:"h6",style:{marginTop:300}},"NO DATA TO DISPLAY!"),m.a.createElement(h.a,{fullWidth:!0,maxWidth:"xs",open:J,onClose:function(){F({id:"",name:"",description:"",image:""}),M(!1)}},m.a.createElement(v.a,null,"Create New Bulk Product"),m.a.createElement(E.a,{dividers:!0},m.a.createElement("form",{onSubmit:he},m.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Name of Product",value:I.name,onChange:function(e){return F(Object(n.a)(Object(n.a)({},I),{},{name:e.target.value}))}}),m.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Description",multiline:!0,rows:5,value:I.description,onChange:function(e){return F(Object(n.a)(Object(n.a)({},I),{},{description:e.target.value}))}}),m.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"contained-button-file",multiple:!1,type:"file",onChange:function(e){F(Object(n.a)(Object(n.a)({},I),{},{image:e.target.files[0]}))}}),m.a.createElement("label",{htmlFor:"contained-button-file"},m.a.createElement(j.a,{color:"secondary",component:"span",style:{marginTop:10},startIcon:m.a.createElement(z.a,null)},"Choose Image"),m.a.createElement("i",null,"(512px X 512px recommended)")),I.image&&J&&m.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},m.a.createElement("img",{alt:"Activity",src:URL.createObjectURL(I.image),style:{width:300}})),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(j.a,{disabled:N,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Submit"),m.a.createElement(j.a,{variant:"contained",onClick:function(){F({id:"",name:"",description:"",image:""}),M(!1)}},"Cancel"))))),m.a.createElement(h.a,{fullWidth:!0,maxWidth:"xs",open:$,onClose:function(){F({id:"",name:"",description:"",image:""}),_(!1)}},m.a.createElement(v.a,null,"Edit Crop"),m.a.createElement(E.a,{dividers:!0},m.a.createElement("form",{onSubmit:ve},m.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Name of Product",value:I.name,onChange:function(e){return F(Object(n.a)(Object(n.a)({},I),{},{name:e.target.value}))}}),m.a.createElement(y.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Description",multiline:!0,rows:5,value:I.description,onChange:function(e){return F(Object(n.a)(Object(n.a)({},I),{},{description:e.target.value}))}}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(j.a,{disabled:N,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Update"),m.a.createElement(j.a,{disabled:N,style:{marginRight:10},color:"secondary",variant:"contained",onClick:function(){if(window.confirm("Are you sure you want to delete ".concat(I.name,"? You cannot recover once deleted!")))return Ee()}},"Delete"),m.a.createElement(j.a,{style:{marginRight:10},color:"secondary",variant:"contained",onClick:function(){return K(!0)}},"Image"),m.a.createElement(j.a,{variant:"contained",onClick:function(){F({id:"",name:"",description:"",image:""}),_(!1)}},"Cancel"))))),m.a.createElement(h.a,{scroll:"body",open:G,onClose:function(){K(!1)}},m.a.createElement(v.a,null,"Change Image"),m.a.createElement(E.a,{dividers:!0},m.a.createElement("div",{style:{display:"flex"}},m.a.createElement("div",{style:{borderRadius:8,border:"1px solid #ddd",display:"flex",flexDirection:"column",padding:10}},m.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"contained-button-file1",multiple:!1,type:"file",onChange:function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),(a=new FormData).append("image",t.target.files[0],t.target.files[0].name),e.next=6,W.a.patch("/api/bulk/image/".concat(I.id),a,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return r=e.sent,F(Object(n.a)(Object(n.a)({},I),{},{image:r.data.image})),fe(ge.map((function(e){return e.id===I.id?Object(n.a)(Object(n.a)({},I),{},{image:r.data.image}):e}))),e.abrupt("return",U(!1));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",U(!1));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}),m.a.createElement("label",{htmlFor:"contained-button-file1"},m.a.createElement(j.a,{color:"secondary",component:"span",startIcon:m.a.createElement(z.a,null)},"Choose Image"),m.a.createElement("i",null,"(512px X 512px recommended)")),I.image&&G&&m.a.createElement(m.a.Fragment,null,m.a.createElement("img",{alt:"Front",src:"".concat(R.a).concat(I.image),style:{width:400,opacity:N?.2:1}}),m.a.createElement("div",{hidden:!N,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"Uploading...")))),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(j.a,{disabled:N,onClick:function(){return K(!1)},variant:"contained",color:"primary"},"Close")))),m.a.createElement(C.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:ae,autoHideDuration:3e3,onClose:function(){ne(!1)}},m.a.createElement(w.a,{style:{backgroundColor:me},message:ie,onClose:function(){ne(!1)},action:m.a.createElement(k.a,{key:"close",color:"inherit",onClick:function(){return ne(!1)}},m.a.createElement(B.a,null))})))})))}}]);
//# sourceMappingURL=22.f4005c88.chunk.js.map
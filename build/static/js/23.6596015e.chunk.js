(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[23],{423:function(e,t,a){"use strict";t.a="https://missionorganicmizoram.com/"},473:function(e,t,a){"use strict";a.r(t);var n=a(421),r=a(16),l=a.n(r),c=a(35),i=a(24),o=a(0),m=a.n(o),u=a(434),s=a(435),d=a(436),p=a(437),f=a(438),g=a(70),E=a(412),h=a(401),b=a(404),y=a(409),v=a(413),O=a(414),j=a(490),S=a(408),C=a(426),k=a(427),P=a(42),x=a(429),D=a.n(x),W=a(17),w=a(428),z=a(431),A=a(90),_=a(89),I=a(58),R=a(423),M=a(36);t.default=Object(P.b)((function(e){return{product:e.product}}),(function(e){return{update:function(t){e({type:"UPDATE_PRODUCT",payload:t})},remove:function(t){e({type:"REMOVE_PRODUCT",payload:t})},logout:function(){return e(Object(M.f)())}}}))(Object(W.g)((function(e){var t=e.logout,a=e.history,r=e.update,P=e.remove,x=e.product,W=Object(o.useState)({id:"",code:"",name:"",price:"",fssai_id:"",image:"",description:"",mom:"",status:"",created:"",mom_name:"",phone:"",email:"",address:""}),M=Object(i.a)(W,2),T=M[0],B=M[1],N=Object(o.useState)(!1),U=Object(i.a)(N,2),Y=U[0],F=U[1],q=Object(o.useState)(!1),H=Object(i.a)(q,2),J=H[0],L=H[1],V=Object(o.useState)(!1),G=Object(i.a)(V,2),K=G[0],Q=G[1],X=Object(o.useState)(!1),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.useState)(null),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],le=Object(o.useState)(null),ce=Object(i.a)(le,2),ie=ce[0],oe=ce[1];Object(o.useEffect)((function(){document.title="Products"}),[]);var me=function(){var e=Object(c.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!localStorage.getItem("mom-admin")){e.next=22;break}return e.prev=2,F(!0),e.next=6,I.a.patch("/api/product/".concat(T.id),T,{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 6:return r(T),Q(!1),oe(A.a[700]),re("Product Updated Successfully"),F(!1),e.abrupt("return",ee(!0));case 14:return e.prev=14,e.t0=e.catch(2),F(!1),oe(_.a[700]),re("Something went wrong"),e.abrupt("return",ee(!0));case 20:e.next=23;break;case 22:return e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=18;break}return e.prev=1,e.next=4,I.a.patch("/api/product/status/".concat(T.id),{status:!T.status},{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 4:return r(Object(n.a)(Object(n.a)({},T),{},{status:!T.status})),B(Object(n.a)(Object(n.a)({},T),{},{status:!T.status})),oe(A.a[700]),re("Product Status Updated Successfully"),e.abrupt("return",ee(!0));case 11:return e.prev=11,e.t0=e.catch(1),oe(_.a[700]),re("Something went wrong"),e.abrupt("return",ee(!0));case 16:e.next=19;break;case 18:return e.abrupt("return",t());case 19:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-admin")){e.next=22;break}return e.prev=1,F(!0),e.next=5,I.a.delete("/api/product/".concat(T.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-admin")}});case 5:return P(T.id),B({id:"",code:"",name:"",price:"",fssai_id:"",image:"",description:"",mom:"",status:"",created:"",mom_name:"",phone:"",email:"",address:""}),L(!1),oe(A.a[700]),re("Product Deleted Successfully"),F(!1),e.abrupt("return",ee(!0));case 14:return e.prev=14,e.t0=e.catch(1),F(!1),oe(_.a[700]),re("Something went wrong"),e.abrupt("return",ee(!0));case 20:e.next=23;break;case 22:return e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(S.a,null,m.a.createElement(g.a,{variant:"h6"},m.a.createElement(h.a,{edge:"start",onClick:function(){a.goBack()}},m.a.createElement(z.a,null)),"Products Management"),m.a.createElement(b.a,{style:{marginTop:20}}),x.length?m.a.createElement(u.a,{size:"small"},m.a.createElement(s.a,null,m.a.createElement(d.a,null,m.a.createElement(p.a,{align:"center",padding:"checkbox"},"#"),m.a.createElement(p.a,null,"Name (MOM)"),m.a.createElement(p.a,null,"Phone"),m.a.createElement(p.a,null,"Product Name"),m.a.createElement(p.a,null,"Price"),m.a.createElement(p.a,null,"Approved"),m.a.createElement(p.a,null,"Created date"),m.a.createElement(p.a,null,"Featured Priority"))),m.a.createElement(f.a,null,x.map((function(e,t){return m.a.createElement(d.a,{hover:!0,key:t,style:{cursor:"pointer"},onClick:function(){B(Object(n.a)({},e)),L(!0)}},m.a.createElement(p.a,null,m.a.createElement(g.a,{align:"center"},t+1)),m.a.createElement(p.a,null,m.a.createElement(g.a,null,e.mom_name)),m.a.createElement(p.a,null,m.a.createElement(g.a,null,e.phone)),m.a.createElement(p.a,null,m.a.createElement(g.a,null,e.name)),m.a.createElement(p.a,null,m.a.createElement(g.a,null,e.price)),m.a.createElement(p.a,null,m.a.createElement(g.a,{style:{color:e.status?A.a[700]:_.a[700]}},e.status?"Yes":"No")),m.a.createElement(p.a,null,m.a.createElement(g.a,null,D()(e.created).format("DD MMMM YYYY"))),m.a.createElement(p.a,null,m.a.createElement(g.a,null,e.code)))})))):m.a.createElement(g.a,{align:"center",variant:"h6",style:{marginTop:300}},"NO DATA TO DISPLAY!"),m.a.createElement(E.a,{scroll:"body",fullWidth:!0,maxWidth:"xs",open:J,onClose:function(){B({id:"",code:"",name:"",price:"",fssai_id:"",image:"",description:"",mom:"",status:"",created:"",mom_name:"",phone:"",email:"",address:""}),L(!1)}},m.a.createElement("div",null,m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%",position:"absolute"}},m.a.createElement(h.a,{onClick:function(){B({id:"",code:"",name:"",price:"",fssai_id:"",image:"",description:"",mom:"",status:"",created:"",mom_name:"",phone:"",email:"",address:""}),L(!1)}},m.a.createElement(w.a,null))),m.a.createElement("div",{style:{display:"flex",justifyContent:"center",height:350}},m.a.createElement("img",{alt:T.name,src:"".concat(R.a).concat(T.image),style:{objectFit:"cover",width:"100%"}})),m.a.createElement("div",{style:{padding:10}},m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"NAME (MOM)"),m.a.createElement(g.a,{style:{fontWeight:500,marginBottom:8}},T.mom_name),m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"PHONE"),m.a.createElement(g.a,{style:{fontWeight:500,marginBottom:8}},T.phone),m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"EMAIL ADDRESS"),m.a.createElement(g.a,{style:{fontWeight:500,marginBottom:8}},T.email),m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"ADDRESS"),m.a.createElement(g.a,{style:{fontWeight:500,marginBottom:8}},T.address),m.a.createElement(b.a,{style:{marginBottom:10,marginTop:10}}),m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"PRODUCT NAME"),m.a.createElement(g.a,{style:{fontWeight:500,marginBottom:8}},T.name),m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"PRICE"),m.a.createElement(g.a,{style:{fontWeight:500,marginBottom:8}},T.price),m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"FSSAI ID"),m.a.createElement(g.a,{style:{fontWeight:500,marginBottom:8}},T.fssai_id),m.a.createElement(g.a,{style:{fontSize:11,fontWeight:400}},"PRODUCT DESCRIPTION"),m.a.createElement(g.a,{style:{whiteSpace:"pre-line"}},T.description),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:20}},m.a.createElement(y.a,{variant:"contained",color:T.status?"secondary":"primary",onClick:ue,style:{marginRight:10}},T.status?"Disapprove":"Approve"),m.a.createElement(y.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:function(){Q(!0)}},"Edit"),m.a.createElement(y.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:function(){if(window.confirm("Are you sure you want to delete this product?"))return se()}},"Delete"),m.a.createElement(y.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:function(){B({id:"",code:"",name:"",price:"",fssai_id:"",image:"",description:"",mom:"",status:"",created:"",mom_name:"",phone:"",email:"",address:""}),L(!1)}},"Close"))))),m.a.createElement(E.a,{scroll:"body",open:K,onClose:function(){Q(!1)}},m.a.createElement(v.a,null,"Edit Product"),m.a.createElement(O.a,{dividers:!0},m.a.createElement("form",{onSubmit:me},m.a.createElement(j.a,{type:"number",fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Featured Product Priority (if not necessary, leave it blank)",value:T.code,onChange:function(e){return B(Object(n.a)(Object(n.a)({},T),{},{code:e.target.value}))}}),m.a.createElement(j.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Product Name",value:T.name,onChange:function(e){return B(Object(n.a)(Object(n.a)({},T),{},{name:e.target.value}))}}),m.a.createElement(j.a,{fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Price",value:T.price,onChange:function(e){return B(Object(n.a)(Object(n.a)({},T),{},{price:e.target.value}))}}),m.a.createElement(j.a,{fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"FSSAI ID",value:T.fssai_id,onChange:function(e){return B(Object(n.a)(Object(n.a)({},T),{},{fssai_id:e.target.value}))}}),m.a.createElement(j.a,{required:!0,fullWidth:!0,variant:"outlined",margin:"normal",size:"small",label:"Product Description",multiline:!0,rows:5,value:T.description,onChange:function(e){return B(Object(n.a)(Object(n.a)({},T),{},{description:e.target.value}))}}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(y.a,{disabled:Y,type:"submit",variant:"contained",color:"primary",style:{marginRight:10}},"Update"),m.a.createElement(y.a,{variant:"contained",onClick:function(){Q(!1)}},"Cancel"))))),m.a.createElement(C.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:$,autoHideDuration:3e3,onClose:function(){ee(!1)}},m.a.createElement(k.a,{style:{backgroundColor:ie},message:ne,onClose:function(){ee(!1)},action:m.a.createElement(h.a,{key:"close",color:"inherit",onClick:function(){return ee(!1)}},m.a.createElement(w.a,null))})))})))}}]);
//# sourceMappingURL=23.6596015e.chunk.js.map
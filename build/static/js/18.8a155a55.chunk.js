(this["webpackJsonpmom-admin"]=this["webpackJsonpmom-admin"]||[]).push([[18],{426:function(e,t,n){"use strict";var a=n(2),r=n(10),o=n(1),c=n(0),i=(n(5),n(3)),l=n(4),u=n(21),s=n(410),m=n(26),d=n(9),b=n(59),f=n(394),p=n(427),g=c.forwardRef((function(e,t){var n=e.action,r=e.anchorOrigin,l=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,g=r.horizontal,O=e.autoHideDuration,E=void 0===O?null:O,j=e.children,h=e.classes,v=e.className,y=e.ClickAwayListenerProps,x=e.ContentProps,k=e.disableWindowBlurListener,w=void 0!==k&&k,C=e.message,S=e.onClose,L=e.onEnter,T=e.onEntered,D=e.onEntering,M=e.onExit,z=e.onExited,I=e.onExiting,B=e.onMouseEnter,N=e.onMouseLeave,P=e.open,R=e.resumeHideDuration,H=e.TransitionComponent,Y=void 0===H?f.a:H,A=e.transitionDuration,W=void 0===A?{enter:u.b.enteringScreen,exit:u.b.leavingScreen}:A,q=e.TransitionProps,G=Object(a.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),J=c.useRef(),Q=c.useState(!0),X=Q[0],F=Q[1],K=Object(m.a)((function(){S&&S.apply(void 0,arguments)})),U=Object(m.a)((function(e){S&&null!=e&&(clearTimeout(J.current),J.current=setTimeout((function(){K(null,"timeout")}),e))}));c.useEffect((function(){return P&&U(E),function(){clearTimeout(J.current)}}),[P,E,U]);var V=function(){clearTimeout(J.current)},Z=c.useCallback((function(){null!=E&&U(null!=R?R:.5*E)}),[E,R,U]);return c.useEffect((function(){if(!w&&P)return window.addEventListener("focus",Z),window.addEventListener("blur",V),function(){window.removeEventListener("focus",Z),window.removeEventListener("blur",V)}}),[w,Z,P]),!P&&X?null:c.createElement(s.a,Object(o.a)({onClickAway:function(e){S&&S(e,"clickaway")}},y),c.createElement("div",Object(o.a)({className:Object(i.a)(h.root,h["anchorOrigin".concat(Object(d.a)(l)).concat(Object(d.a)(g))],v),onMouseEnter:function(e){B&&B(e),V()},onMouseLeave:function(e){N&&N(e),Z()},ref:t},G),c.createElement(Y,Object(o.a)({appear:!0,in:P,onEnter:Object(b.a)((function(){F(!1)}),L),onEntered:T,onEntering:D,onExit:M,onExited:Object(b.a)((function(){F(!0)}),z),onExiting:I,timeout:W,direction:"top"===l?"down":"up"},q),j||c.createElement(p.a,Object(o.a)({message:C,action:n},x)))))}));t.a=Object(l.a)((function(e){var t={top:8},n={bottom:8},a={justifyContent:"flex-end"},c={justifyContent:"flex-start"},i={top:24},l={bottom:24},u={right:24},s={left:24},m={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},t,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({},i,m))),anchorOriginBottomCenter:Object(o.a)({},n,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({},l,m))),anchorOriginTopRight:Object(o.a)({},t,a,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},i,u))),anchorOriginBottomRight:Object(o.a)({},n,a,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},l,u))),anchorOriginTopLeft:Object(o.a)({},t,c,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},i,s))),anchorOriginBottomLeft:Object(o.a)({},n,c,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},l,s)))}}),{flip:!1,name:"MuiSnackbar"})(g)},427:function(e,t,n){"use strict";var a=n(2),r=n(10),o=n(1),c=n(0),i=(n(5),n(3)),l=n(4),u=n(202),s=n(22),m=c.forwardRef((function(e,t){var n=e.action,r=e.classes,l=e.className,s=e.message,m=e.role,d=void 0===m?"alert":m,b=Object(a.a)(e,["action","classes","className","message","role"]);return c.createElement(u.a,Object(o.a)({role:d,square:!0,elevation:6,className:Object(i.a)(r.root,l),ref:t},b),c.createElement("div",{className:r.message},s),n?c.createElement("div",{className:r.action},n):null)}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(s.b)(e.palette.background.default,t);return{root:Object(o.a)({},e.typography.body2,Object(r.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(m)},428:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(12);t.a=Object(o.a)(r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},495:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n.n(a),o=n(35),c=n(24),i=n(0),l=n.n(i),u=n(434),s=n(435),m=n(436),d=n(437),b=n(438),f=n(70),p=n(500),g=n(401),O=n(408),E=n(404),j=n(426),h=n(427),v=n(42),y=n(429),x=n.n(y),k=n(17),w=n(428),C=n(90),S=n(89),L=n(58),T=n(36);t.default=Object(v.b)((function(e){return{profile:e.profile}}),{logout:T.f})(Object(k.g)((function(e){var t=e.logout,n=e.profile,a=Object(i.useState)([]),v=Object(c.a)(a,2),y=v[0],k=v[1],T=Object(i.useState)(!1),D=Object(c.a)(T,2),M=D[0],z=D[1],I=Object(i.useState)(null),B=Object(c.a)(I,2),N=B[0],P=B[1],R=Object(i.useState)(null),H=Object(c.a)(R,2),Y=H[0],A=H[1];Object(i.useEffect)((function(){document.title="Order History",Object.keys(n).length&&W()}),[Object.keys(n).length]);var W=function(){var e=Object(o.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-customer")){e.next=13;break}return e.prev=1,e.next=4,L.a.get("/api/product-order/".concat(n.id),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-customer")}});case 4:return a=e.sent,e.abrupt("return",k(a.data.data));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return");case 11:e.next=14;break;case 13:return e.abrupt("return",t());case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("mom-customer")){e.next=17;break}return e.prev=1,e.next=4,L.a.delete("/api/product-order/".concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("mom-customer")}});case 4:return k(y.filter((function(e){return e.id!==n}))),A(C.a[700]),P("Order Deleted Successfully"),e.abrupt("return",z(!0));case 10:return e.prev=10,e.t0=e.catch(1),A(S.a[700]),P("Something went wrong. Try again"),e.abrupt("return",z(!0));case 15:e.next=18;break;case 17:return e.abrupt("return",t());case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(O.a,{style:{marginBottom:380}},l.a.createElement(f.a,{variant:"h6"},"My Order History"),l.a.createElement(E.a,{style:{marginTop:20}}),y.length?l.a.createElement(u.a,{size:"small"},l.a.createElement(s.a,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,"Product"),l.a.createElement(d.a,{align:"center"},"QTY"),l.a.createElement(d.a,{align:"center"},"Status"),l.a.createElement(d.a,{colSpan:2},"Order Date"))),l.a.createElement(b.a,null,y.map((function(e,t){return l.a.createElement(m.a,{key:t},l.a.createElement(d.a,null,l.a.createElement(f.a,null,e.name)),l.a.createElement(d.a,{align:"center"},l.a.createElement(f.a,null,1===e.type?"-":e.quantity)),l.a.createElement(d.a,null,e.status&&l.a.createElement(f.a,{align:"center",style:{color:1===e.status?"#fe7517":(2===e.status||e.status,"#07800b")}},1===e.status?"Pending":2===e.status?"Confirmed":3===e.status?"Delivered":null)),l.a.createElement(d.a,null,l.a.createElement(f.a,null,x()(e.created).format("DD-MM-YYYY"))),l.a.createElement(d.a,null,l.a.createElement(p.a,{title:"Delete"},l.a.createElement(g.a,{disabled:1!==e.status,size:"small",onClick:function(){if(window.confirm("Are you sure you want to cancel this order? You cannot recover once cancelled!"))return q(e.id)}},"Cancel Order"))))})))):l.a.createElement(f.a,{align:"center",variant:"h6",style:{marginTop:100}},"You have no order history"),l.a.createElement(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:M,autoHideDuration:3e3,onClose:function(){z(!1)}},l.a.createElement(h.a,{style:{backgroundColor:Y},message:N,onClose:function(){z(!1)},action:l.a.createElement(g.a,{key:"close",color:"inherit",onClick:function(){return z(!1)}},l.a.createElement(w.a,null))})))})))}}]);
//# sourceMappingURL=18.8a155a55.chunk.js.map